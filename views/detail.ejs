<div class="container">
  <div class="row">
    <div class="col-md-10">
      <h3>Detail Contact</h3>
      <% if(detail.length === 0) { %>
      <div class="alert alert-warning" role="alert">
        Data Not Found!
        <a href="/" class="alert-link">Back to Contact Page</a>
      </div>
      <% } else { %>
      <div class="card" style="width:100%; max-width: 25em">
        <div class="head-card position-relative">
          <form
            action="/favourite/<%= detail[0].name %>"
            method="post"
            style="height: 0"
            id="favouriteForm-<%= detail[0].name %>"
          >
            <div class="form-check ps-0">
              <input
                class="form-check-input d-none"
                type="checkbox"
                name="isFavourite"
                id="favourite-<%= detail[0].name %>"
                onchange="document.getElementById('favouriteForm-<%= detail[0].name %>').submit();"
                <%= detail[0].isFavourite ? 'checked' : '' %>
              />
              <label
                style="right: 15px; top: 15px"
                class="form-check-label z-3 position-absolute btn btn-light pt-0 pb-1 px-2"
                for="favourite-<%= detail[0].name %>"
              >
                <%- detail[0].isFavourite
                  ? '<i style="font-size: 1.5em; color: #f6be30" class="bi bi-star-fill"></i>'
                  : '<i style="font-size: 1.5em" class="bi bi-star"></i>'
                %>
              </label>
            </div>
          </form>
          <img
            src="../<%= detail[0].img %>"
            class="card-img-top object-fit-cover rounded"
            height="280px"
            alt="<%= detail[0].name %>"
          />
        </div>
        <div class="card-body d-flex flex-column">
          <div class="top-body d-flex justify-content-between align-items-center gap-3  mb-3">
            <div class="info">
              <h2 class="card-title"><%= detail[0].name %></h2>
              <p class="card-subtitle"><%= detail[0].num %></p>
            </div>
            <div class="link d-flex gap-2">
              <a href="tel:<%= detail[0].num %>" target="_blank" class="btn btn-success rounded ">
                <i style="font-size: 1.3em;" class="bi bi-telephone-fill"></i>
              </a>
              <a href="sms:<%= detail[0].num %>" target="_blank" class="btn btn-primary rounded ">
                <i style="font-size: 1.3em;" class="bi bi-chat-left-text-fill"></i>
              </a>
            </div>
          </div>
          <div class="email-info my-3">
            <h5>Email</h5>
            <a href="mailto:<%= detail[0].email %>" target="_blank" class="d-flex gap-3 align-items-center text-dark text-decoration-none">
              <i style="font-size: 1.7em;" class="bi bi-envelope-fill"></i>
              <p class="card-subtitle"><%= detail[0].email %></p>
            </a>
            </a>
          </div>
          <div class="my-3 d-flex gap-2 justify-content-center">
            <a href="/update/<%= detail[0].name %>" class="btn btn-warning d-flex align-items-center gap-2">
              <i  style="font-size: 1.4em;" class="bi bi-pencil"></i>
              <span class="d-md-inline">Update</span>
            </a>
            <a
            href="/delete/<%= detail[0].name %>"
            class="btn btn-danger d-flex align-items-center gap-2"
            onclick="return confirm('Are you sure you want to delete this contact?')"
            >
            <i  style="font-size: 1.4em;" class="bi bi-trash"></i>
            <span class="d-md-inline">Delete</span>
          </a>
          </div>
        </div>
      </div>
      <% } %>
    </div>
  </div>
</div>
